<div class="bg-white shadow-md rounded-lg overflow-hidden">
  <!-- Controles de tabla -->
  <div class="py-3 px-3 border-b border-gray-200 bg-gray-50">
    <div class="flex flex-col md:flex-row justify-between items-center gap-4">
      <!-- Búsqueda -->
      <div class="w-full md:w-64">
        <input type="text" placeholder="Buscar..."
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"
          (input)="onSearch($event)">
      </div>
      <!-- Acción -->
      <div>
        <button type="button" class="bg-main rounded text-white px-2 py-2 text-sm">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4">
            <path fill-rule="evenodd"
              d="M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z"
              clip-rule="evenodd" />
          </svg>
          Nuevo
        </button>
        <button type="button" class="bg-secondary rounded text-white px-2 py-2 ms-2 text-sm">+ Nueva versión</button>
      </div>
    </div>
  </div>

  <!-- Tabla Responsive -->
  <div class="overflow-x-auto">
    <table class="min-w-full divide-y divide-gray-200">
      <!-- Encabezados -->
      <thead class="bg-gray_dark text-white">
        <tr>
          @for (column of columns; track column.key) {
          <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-gray-500"
            [class.cursor-pointer]="column.sortable" (click)="column.sortable && sort(column.key)">
            <div class="flex items-center gap-2">
              {{ column.label }}
              @if (column.sortable) {
              <span class="text-gray-400">
                @if (sortColumn === column.key) {
                <svg class="w-4 h-4" [class.transform]="!sortAsc" [class.rotate-180]="!sortAsc" fill="none"
                  stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
                </svg>
                }
              </span>
              }
            </div>
          </th>
          }
          <th class="relative px-6 py-3">
            <span class="sr-only">Acciones</span>
          </th>
        </tr>
      </thead>

      <!-- Cuerpo de la tabla -->
      <tbody class="bg-white divide-y divide-gray-200">
        @for (item of paginatedData; track item.id) {
        <tr class="hover:bg-gray-50">
          @for (column of columns; track column.key) {
          <td class="px-6 py-4 whitespace-nowrap">
            <div class="text-sm text-gray-900">{{ item[column.key] }}</div>
          </td>
          }
          <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
            <button class="text-blue-600 hover:text-blue-900 mr-2" (click)="onEdit(item)">
              Editar
            </button>
            <button class="text-red-600 hover:text-red-900" (click)="onDelete(item)">
              Eliminar
            </button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>



  <!-- Mensaje sin datos -->

  @if (paginatedData.length === 0) {
  <div class="text-center py-12">
    <p class="text-gray-500 text-lg">No se encontraron resultados</p>
  </div>
  }
</div>

<!-- Paginación -->
<div class="flex items-center gap-2 mt-4">
  <span class="text-sm text-gray-600">
    Mostrando {{ startIndex + 1 }} - {{ endIndex }} de {{ totalItems }}
  </span>
  <div class="flex gap-1">
    <button [disabled]="currentPage === 1" (click)="changePage(currentPage - 1)"
      class="px-3 py-1 border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50">
      Anterior
    </button>
    <button [disabled]="endIndex >= totalItems" (click)="changePage(currentPage + 1)"
      class="px-3 py-1 border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50">
      Siguiente
    </button>
  </div>
</div>
